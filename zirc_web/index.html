<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zirc Polgármesteri Hivatal online bejelentője</title>
    <link rel="stylesheet" href="styleadat2.css">
    <link rel="icon" type="image/x-icon" href="icon.png">
</head>
<body>
    <div id="aszf-modal">
  <div class="aszf-box">
    <button id="aszf-close">✕</button>

    <h2>Általános adatkezelési tájékoztató</h2>

    <div class="aszf-content">
        <p><strong>Zirc Polgármesteri Hivatal – online bejelentési felület</strong></p>
        <p>Érvényes: 2026. Január 27.-től </p>
        <p>
Jelen adatkezelési tájékoztató a Zirc Polgármesteri Hivatal által üzemeltetett online
bejelentési felülethez kapcsolódó személyes adatok kezelésére vonatkozik.
</p>

<h2>Az adatkezelő adatai</h2>
<p><strong>Adatkezelő neve:</strong> Zirc Polgármesteri Hivatal</p>
<p><strong>Székhely:</strong> 8420 Zirc</p>
<p><strong>Elérhetőség:</strong> a Polgármesteri Hivatal hivatalos elérhetőségei</p>

<h2>Az adatkezelés célja</h2>
<p>
A személyes adatok kezelése annak érdekében történik, hogy az érintettek
elektronikus úton kapcsolatba léphessenek a Zirc Polgármesteri Hivatallal,
valamint ügyintézési vagy tájékoztatási célú bejelentést tehessenek.
</p>
<p>
Az online bejelentési felület nem minősül teljes körű elektronikus ügyintézésnek,
kizárólag előzetes kapcsolatfelvételt és adatrögzítést szolgál.
</p>

<h2>Az adatkezelés jogalapja</h2>
<p>
Az adatkezelés jogalapja az Európai Parlament és a Tanács (EU) 2016/679 rendelete
(GDPR) 6. cikk (1) bekezdés c) pontja (jogi kötelezettség teljesítése),
illetve e) pontja (közérdekű feladat ellátása).
</p>

<h2>A kezelt személyes adatok köre</h2>
<p>Az adatkezelés során az alábbi személyes adatok kerülhetnek kezelésre:</p>
<p>
– teljes név<br>
– születési idő<br>
– lakcím<br>
– telefonszám<br>
– e-mail cím<br>
– az üzenet vagy bejelentés tartalma
</p>

<h2>Az adatok forrása</h2>
<p>
A személyes adatokat az érintett önkéntesen, az online bejelentési felületen keresztül adja meg.
</p>

<h2>Adattárolás és adatbiztonság</h2>
<p>
A személyes adatok biztonságos, felhőalapú adatbázisban kerülnek tárolásra.
A rendszer Neon technológián alapuló PostgreSQL adatbázist használ,
amely megfelel a korszerű adatbiztonsági követelményeknek.
</p>
<p>
Az adatkezelő megfelelő technikai és szervezési intézkedéseket alkalmaz
a személyes adatok jogosulatlan hozzáférésének, megváltoztatásának,
nyilvánosságra hozatalának vagy megsemmisülésének megakadályozása érdekében.
</p>

<h2>Az adatok megőrzési ideje</h2>
<p>
A személyes adatok megőrzése az ügyintézés lezárásáig,
illetve az iratkezelésre és adatmegőrzésre vonatkozó jogszabályokban
meghatározott időtartamig történik.
</p>

<h2>Adattovábbítás</h2>
<p>
A személyes adatokat az adatkezelő harmadik fél részére nem továbbítja,
kivéve jogszabályi kötelezettség teljesítése esetén.
</p>

<h2>Automatizált döntéshozatal</h2>
<p>
Az adatkezelés során automatizált döntéshozatal vagy profilalkotás nem történik.
</p>

<h2>Az érintettek jogai</h2>
<p>
Az érintett jogosult:
</p>
<p>
– tájékoztatást kérni személyes adatai kezeléséről<br>
– hozzáférést kérni a kezelt személyes adatokhoz<br>
– kérni személyes adatai helyesbítését<br>
– kérni az adatkezelés korlátozását<br>
– tiltakozni a személyes adatok kezelése ellen<br>
– jogorvoslattal élni
</p>

<h2>Jogorvoslati lehetőségek</h2>
<p>
Amennyiben az érintett megítélése szerint a személyes adatainak kezelése
nem felel meg a jogszabályoknak, panaszt tehet a
Nemzeti Adatvédelmi és Információszabadság Hatóságnál (NAIH),
illetve jogosult bírósághoz fordulni.
</p>

<h2>Kapcsolat</h2>
<p>
Az adatkezeléssel kapcsolatos kérdések és kérelmek az alábbi e-mail címen jelezhetők:
</p>

<p>
<a href="mailto:polgarmesterihivatalugyintezes@zirc.hu" style="text-decoration: none;">
  <button type="button"
    style="
      background: #1e3a8a;
      color: #ffffff;
      border: none;
      padding: 12px 20px;
      font-size: 15px;
      font-weight: 500;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.2s ease, transform 0.1s ease;
    "
    onmouseover="this.style.background='#1e40af'; this.style.transform='translateY(-1px)'"
    onmouseout="this.style.background='#1e3a8a'; this.style.transform='translateY(0)'"
  >
    E-mail írása az ügyintézéshez
  </button>
</a>
</p>
    </div>
  </div>
</div>
    <div id="bekero">
        <h1>Zirc Polgármesteri Hivatal – online bejelentés</h1>
        <p id="szoveg1">
    A várakozásmentes, gyors ügyintézés érdekében kérjük, végezze el az előzetes adategyeztetést. <br>
    A beküldés gomb megnyomásával elfogadja és megérti az
    <span id="aszf-open">Általános adatkezelési tájékoztatót</span>.
</p>
        <form novalidate>
            <label for="teljes-nev">Teljes név:</label>
            <input type="text" id="teljes-nev" placeholder="Vezetéknév Keresztnév"  name="teljes_nev" required>
        <br><br>
         <label for="szuletes-ev">Születési idő:</label>
            <input type="text" inputmode="numeric" id="szuletes-ev" placeholder="ÉÉÉÉ"   name="szu_ev" required oninput="this.value=this.value.replace(/[^0-9]/g,''); if(this.value > 2027) this.value = 2027; if(this.value.length >= 4) { this.value = this.value.slice(0,4); document.getElementById('szuletes-honap').focus(); }">
            <input type="text" inputmode="numeric" id="szuletes-honap" placeholder="HH" name="szu_honap" required oninput="this.value=this.value.replace(/[^0-9]/g,''); if(this.value > 12) this.value = 12; if(this.value.length >= 2) { this.value = this.value.slice(0,2); document.getElementById('szuletes-nap').focus(); }">
            <input type="text" inputmode="numeric" id="szuletes-nap" placeholder="NN" name="szu_nap" required oninput="this.value=this.value.replace(/[^0-9]/g,''); if(this.value > 31) this.value = 31; if(this.value.length >= 2) { this.value = this.value.slice(0,2); document.getElementById('lakcim-iranyitoszam').focus(); }">
        <br><br>
            <label for="lakcim-iranyitoszam">Lakcím:</label>
            <input type="text" inputmode="numeric" name="iranyitoszam" required pattern="[0-9]*" id="lakcim-iranyitoszam" placeholder="Irányítószám" oninput="if(this.value.length >= 4) { this.value = this.value.slice(0,4); document.getElementById('lakcim-varos').focus(); }" value="8420">
            <input type="text" id="lakcim-varos" placeholder="Város" value="Zirc" name="varos" required>
            <input type="text" id="lakcim-utca" placeholder="Utca, hsz., em./ajtó" size="40" name="utca" required>
        <br><br>
            <label for="tel-korzet">Telefonszám:</label>
            <input type="text" id="tel-orszag" value="+36" size="3" readonly>
            <input type="text" inputmode="numeric"  name="tel_korzet" required pattern="[0-9]*" id="tel-korzet" placeholder="30" oninput="if(this.value.length >= 2) { this.value = this.value.slice(0,2); document.getElementById('tel-szam').focus(); }">
            <input type="text" inputmode="numeric"  name="tel_szam" required pattern="[0-9]*" id="tel-szam" placeholder="1234567" oninput="if(this.value.length >= 7) this.value = this.value.slice(0,7)">
        <br><br>
            <label for="email-cim">E-mail cím:</label>
            <input type="email" id="email-cim" placeholder="pelda@email.hu" name="email" required>
        <br><br>
            <label for="uzenet-szoveg">Kapcsolatfelvétel vagy ügyintézés oka:</label><br>
            <textarea id="uzenet-szoveg" maxlength="1000" rows="5" cols="60" oninput="document.getElementById('szamlalo').innerText = this.value.length"  name="uzenet" required></textarea>
        <br>
            <span>Karakterszám: <span id="szamlalo">0</span> / 1000</span>
        <br>
            <button id="bekuldogomb"   type="submit">Beküldés</button> 
        </form>
    </div>

    <script>
       function moveFocus(currentInput, nextInputId, maxLength) {
    if (currentInput.value.length >= maxLength && nextInputId) {
        document.getElementById(nextInputId).focus();
    }

   
    if (currentInput.id === 'year' && currentInput.value.length === 4) {
        checkAge();
    }
}

function checkAge() {
    const day = parseInt(document.getElementById("day").value, 10);
    const month = parseInt(document.getElementById("month").value, 10) - 1; 
    const year = parseInt(document.getElementById("year").value, 10);

    if (!day || !month + 1 || !year) return;

    const birthDate = new Date(year, month, day);
    const today = new Date();

    if (birthDate > today || year < 1900) {
        alert("Érvénytelen születési dátum.");
        resetDateInputs();
        return;
    }

    let age = today.getFullYear() - birthDate.getFullYear();
    const monthDiff = today.getMonth() - birthDate.getMonth();

    if (
        monthDiff < 0 ||
        (monthDiff === 0 && today.getDate() < birthDate.getDate())
    ) {
        age--;
    }

    if (age < 18) {
        alert("Panaszt csak 18. életévüket betöltött személyek nyújthatnak be.");
        resetDateInputs();
    }
}

function resetDateInputs() {
    document.getElementById("day").value = "";
    document.getElementById("month").value = "";
    document.getElementById("year").value = "";
    document.getElementById("day").focus();
}

function formatInput(input) {
    input.value = input.value.toUpperCase().replace(/[^A-Z0-9]/g, '');
    
    if (input.value.length === 8) {
        console.log("Formátum ellenőrzése...");
    }
}


  document.querySelectorAll('input[type="number"]').forEach(input => {
    input.addEventListener('keydown', (e) => {
      if (['e', 'E', '+', '-', '.'].includes(e.key)) {
        e.preventDefault();
      }
    });
  });

  function errorShake(element) {
    element.classList.add('shake-error');
    setTimeout(() => {
        element.classList.remove('shake-error');
    }, 300); 
}

document.querySelector('form').addEventListener('submit', async (e) => {
    e.preventDefault();
    const formData = new FormData(e.target);
    const data = Object.fromEntries(formData.entries());

    try {
        const response = await fetch('/.netlify/functions/mentes', {
            method: 'POST',
            body: JSON.stringify(data),
            headers: { 'Content-Type': 'application/json' }
        });

        if (response.ok) {
            alert('Sikeres beküldés! Nemsokára felvesszük Önnel a kapcsolatot! Köszönjük türelmét!');
            e.target.reset();
        } else { alert('Hiba történt! 500-as hibakód!'); }
    } catch (error) { alert('Hiba a szerverrel! Próbálja újra később vagy forduljon az ügyfélszolgálat felé!'); }
});


 const aszfModal = document.getElementById("aszf-modal");
  const aszfOpen = document.getElementById("aszf-open");
  const aszfClose = document.getElementById("aszf-close");

  aszfOpen.onclick = () => {
    aszfModal.classList.add("active");
  };

  aszfClose.onclick = () => {
    aszfModal.classList.remove("active");
  };

  aszfModal.onclick = (e) => {
    if (e.target === aszfModal) {
      aszfModal.classList.remove("active");
    }
  };

  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape") {
      aszfModal.classList.remove("active");
    }
  });

        </script>
</body>

</html>










